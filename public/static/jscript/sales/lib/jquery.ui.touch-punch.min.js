/*!
 * jQuery UI Touch Punch 1.0.9 as modified by RWAP Software
 * based on original touchpunch v0.2.3 which has not been updated since 2014
 *
 * Updates by RWAP Software to take account of various suggested changes on the original code issues
 *
 * Original: https://github.com/furf/jquery-ui-touch-punch
 * Copyright 2011-2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Fork: https://github.com/RWAP/jquery-ui-touch-punch
 *
 * Depends:
 * jquery.ui.widget.js
 * jquery.ui.mouse.js
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery","jquery-ui"],t):t(jQuery)}((function(t){if(t.mspointer=window.navigator.msPointerEnabled,t.touch="ontouchstart"in document||"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,!t.touch&&!t.mspointer||!t.ui.mouse)return;let e,o=t.ui.mouse.prototype,n=o._mouseInit,u=o._mouseDestroy;function i(t){return{x:t.originalEvent.changedTouches[0].pageX,y:t.originalEvent.changedTouches[0].pageY}}function c(e,o){if(e.originalEvent.touches.length>1)return;if(t(e.target).is("input")||t(e.target).is("textarea"))return;e.cancelable&&e.preventDefault();let n=e.originalEvent.changedTouches[0],u=document.createEvent("MouseEvents");u.initMouseEvent(o,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(u)}o._touchStart=function(t){let o=this;this._startedMove=t.timeStamp,o._startPos=i(t),!e&&o._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,o._touchMoved=!1,c(t,"mouseover"),c(t,"mousemove"),c(t,"mousedown"))},o._touchMove=function(t){e&&(this._touchMoved=!0,c(t,"mousemove"))},o._touchEnd=function(t){if(!e)return;c(t,"mouseup"),c(t,"mouseout");let o=t.timeStamp-this._startedMove;if(!this._touchMoved||o<500)c(t,"click");else{let e=i(t);Math.abs(e.x-this._startPos.x)<10&&Math.abs(e.y-this._startPos.y)<10&&(this._touchMoved&&"stylus"!==t.originalEvent.changedTouches[0].touchType||c(t,"click"))}this._touchMoved=!1,e=!1},o._mouseInit=function(){let e=this;t.support.mspointer&&(e.element[0].style.msTouchAction="none"),e.element.on({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),n.call(e)},o._mouseDestroy=function(){let e=this;e.element.off({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),u.call(e)}}));